[{"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\index.js":"1","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\App.js":"2","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\pages\\AuthPage.js":"3","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\pages\\EventPage.js":"4","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\pages\\BookingPage.js":"5","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Navigation\\MainNavigation.js":"6","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\context\\auth-context.js":"7","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Modal\\Modal.js":"8","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Backdrop\\Backdrop.js":"9","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Events\\EventList\\EventList.js":"10","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Events\\EventList\\EventItem\\EventItem.js":"11","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Bookings\\BookingList\\BookingList.js":"12"},{"size":219,"mtime":1607019626582,"results":"13","hashOfConfig":"14"},{"size":3045,"mtime":1609570026471,"results":"15","hashOfConfig":"14"},{"size":2747,"mtime":1609527800191,"results":"16","hashOfConfig":"14"},{"size":7523,"mtime":1609529704899,"results":"17","hashOfConfig":"14"},{"size":2778,"mtime":1609527577366,"results":"18","hashOfConfig":"14"},{"size":1101,"mtime":1608147629521,"results":"19","hashOfConfig":"14"},{"size":177,"mtime":1607601340183,"results":"20","hashOfConfig":"14"},{"size":667,"mtime":1609157119836,"results":"21","hashOfConfig":"14"},{"size":158,"mtime":1608148693267,"results":"22","hashOfConfig":"14"},{"size":612,"mtime":1609155458631,"results":"23","hashOfConfig":"14"},{"size":757,"mtime":1609155423167,"results":"24","hashOfConfig":"14"},{"size":744,"mtime":1609444577425,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"54i8e6",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\index.js",[],["52","53"],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\App.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\pages\\AuthPage.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\pages\\EventPage.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\pages\\BookingPage.js",["54"],"import React, { useEffect, useState, useContext } from \"react\";\r\nimport BookingList from \"../components/Bookings/BookingList/BookingList\";\r\nimport AuthContext from \"../context/auth-context\";\r\n\r\nconst BookingPage = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [bookings, setBookings] = useState([]);\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const fetchBookings = () => {\r\n    setIsLoading(true);\r\n    const requestBody = {\r\n      query: `\r\n          query {\r\n            bookings {\r\n              _id\r\n              createdAt\r\n              event {\r\n                _id\r\n                title\r\n                date\r\n              }\r\n            }\r\n          }\r\n        `,\r\n    };\r\n\r\n    fetch(\"http://localhost:8000/graphql\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + authContext.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error(\"Failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resData) => {\r\n        const bookings = resData.data.bookings;\r\n        setBookings(bookings);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const deleteBookingHandler = (bookingId) => {\r\n    setIsLoading(true);\r\n    const requestBody = {\r\n      query: `\r\n          mutation CancelBooking($bookId: ID!) {\r\n            cancelBooking(bookingId: $bookId) {\r\n              _id\r\n              title\r\n            }\r\n          }\r\n        `,\r\n      variables: {\r\n        bookId: bookingId,\r\n      },\r\n    };\r\n\r\n    fetch(\"http://localhost:8000/graphql\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + authContext.token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.status !== 200 && res.status !== 201) {\r\n          throw new Error(\"Failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resData) => {\r\n        console.log(resData);\r\n        setBookings((prevBookings) => {\r\n          return prevBookings.filter((booking) => booking._id !== bookingId);\r\n        });\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchBookings();\r\n  }, []);\r\n\r\n  return (\r\n    <ul>\r\n      {isLoading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <BookingList bookings={bookings} onDelete={deleteBookingHandler} />\r\n      )}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default BookingPage;\r\n","C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Navigation\\MainNavigation.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\context\\auth-context.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Modal\\Modal.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Backdrop\\Backdrop.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Events\\EventList\\EventList.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Events\\EventList\\EventItem\\EventItem.js",[],"C:\\Users\\harsh gandhi\\Desktop\\current-project\\frontend\\src\\components\\Bookings\\BookingList\\BookingList.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":98,"column":6,"nodeType":"61","endLine":98,"endColumn":8,"suggestions":"62"},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchBookings'. Either include it or remove the dependency array.","ArrayExpression",["65"],"no-global-assign","no-unsafe-negation",{"desc":"66","fix":"67"},"Update the dependencies array to be: [fetchBookings]",{"range":"68","text":"69"},[2547,2549],"[fetchBookings]"]